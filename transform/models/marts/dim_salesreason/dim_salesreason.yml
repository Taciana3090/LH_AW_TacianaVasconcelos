version: 2

models:
  - name: dim_salesreason
    description: >
      Dimension table consolidating sales reasons for each sales order.
      Combines sales order IDs with associated reason names into a single record.
    columns:
      - name: reason_sk
        description: >
          Surrogate key generated for the dimension table by combining sales order IDs from 
          `stg_aw__salesorderheader` and `int_salesreason`.
        tests:
          - not_null
          - unique
      - name: sales_order_id
        description: >
          Unique identifier for the sales order associated with the sales reasons.
        tests:
          - unique
          - relationships:
              to: ref('stg_aw__salesorderheader')
              field: sales_order_id
      - name: reason_name
        description: >
          List of sales reasons associated with the sales order, concatenated as a single string.
        tests:
          - not_null
